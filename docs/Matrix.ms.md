[on Engilsh, please.](Matrix.ms_EN.md)
# Matrix.ms

Matrix @ PankovEA scripts. 1.04.2025

Структура (класс) для операций с прямоугольными матрицами любого размера
Использовать осторожно. Не прошла всевозмоные тесты. Работает в частном порядке (разработана для скрипта [Simplify-Spline-by-Remove-Selected-Vertices](/scripts/Simplify-Spline-by-Remove-Selected-Vertices.ms))

## Пример использования:

### Задание матрицы
**Числом:**
```
A = Matrix 5 5 1 -- единичая матрица 5х5
A.print()
Matrix 5x5:
  [1 0 0 0 0 ]
  [0 1 0 0 0 ]
  [0 0 1 0 0 ]
  [0 0 0 1 0 ]
  [0 0 0 0 1 ]
```
**Массивом данных**
```
M = Matrix 3 3 #(1, 2, 3, 0, 1, 4, 5, 6, 0)
M.print()
(Matrix rows:3 cols:3 data:#(#(1, 2, 3), #(0, 1, 4), #(5, 6, 0)))
Matrix 3x3:
  [1 2 3 ]
  [0 1 4 ]
  [5 6 0 ]
```

### Операции:
Функции каждый раз возвращают новый объект. То есть старый не изменяется.

Транспонирование матрицы
```
(M.transpose()).print()
Matrix 3x3:
  [1 0 5 ]
  [2 1 6 ]
  [3 4 0 ]
OK
```
Умножение на вектор
```
V = #(1, 2, 3)            -- принимает как массив значений 
V = Matrix 3 1 #(1, 2, 3) -- так и матрицу - вектор
MV = M.multiplyByVector V
Matrix 3x1:
  [14.0 ]
  [14.0 ]
  [17.0 ]
OK
```
Умножение на матрицу
```
M2 = Matrix 3 2 #(1, 2, 3, 4, 5, 6)
MM2 = M.multiplyByMatrix M2
Matrix 3x2:
  [22.0 28.0 ]
  [23.0 28.0 ]
  [23.0 34.0 ]
OK
```
Инвертированная матрица
```
Minv = M.inverse()
Matrix 3x3:
  [-24.0 18.0 5.0 ]
  [20.0 -15.0 -4.0 ]
  [-5.0 4.0 1.0 ]
OK
```
Получать данные можно двумя способами:
```
M.getVal 1 2
2

M.data[1][2]
2
```
Записывать аналогично:
```
M.setVal 1 2 5
5

M.data[1][2] = 5
5

M.print()
Matrix 3x3:
  [1 5 3 ]
  [0 1 4 ]
  [5 6 0 ]
```
